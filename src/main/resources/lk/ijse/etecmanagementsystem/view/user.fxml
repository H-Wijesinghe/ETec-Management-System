<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.PasswordField?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<BorderPane prefHeight="800.0" prefWidth="1050.0" style="-fx-background-color: #f3f4f6;" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="lk.ijse.etecmanagementsystem.controller.UserController">
   <center>
      <TabPane prefHeight="200.0" prefWidth="200.0" tabClosingPolicy="UNAVAILABLE" BorderPane.alignment="CENTER">
        <tabs>
          <Tab text="Untitled Tab 1">
               <content>
                  <VBox prefHeight="200.0" prefWidth="100.0">
                     <children>
                          <HBox alignment="CENTER_LEFT" prefHeight="50.0" prefWidth="1000.0" style="-fx-background-color: #2c3e50;">
                              <children>
                                  <Label text="User Management" textFill="WHITE">
                                      <font>
                                          <Font name="System Bold" size="24.0" />
                                      </font>
                                  </Label>
                                  <Region prefHeight="52.0" prefWidth="490.0" HBox.hgrow="ALWAYS" />
                              </children>
                              <padding>
                                  <Insets left="30.0" right="30.0" />
                              </padding>
                          </HBox>
                          <HBox prefHeight="650.0" prefWidth="1000.0" spacing="10.0">
                              <padding>
                                  <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
                              </padding>
                              <children>
                  
                                                    <VBox prefHeight="600.0" prefWidth="350.0" spacing="8.0" style="-fx-background-color: white; -fx-background-radius: 10; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.05), 10, 0, 0, 0);">
                                      <padding>
                                          <Insets bottom="15.0" left="15.0" right="15.0" top="15.0" />
                                      </padding>
                                      <children>
                                          <Label text="User Details" textFill="#3b82f6">
                                              <font>
                                                  <Font name="System Bold" size="16.0" />
                                              </font>
                                          </Label>
                  
                                                            <VBox spacing="2.0">
                                              <Label text="User ID" textFill="#64748b">
                                          <font>
                                             <Font name="System Bold" size="12.0" />
                                          </font>
                                       </Label>
                                              <TextField fx:id="txtId" editable="false" promptText="Auto-Generated" style="-fx-background-color: #f1f5f9; -fx-border-color: #e2e8f0; -fx-border-radius: 5;" />
                                          </VBox>
                  
                                                            <VBox spacing="2.0">
                                              <Label text="Full Name" textFill="#64748b">
                                          <font>
                                             <Font name="System Bold" size="12.0" />
                                          </font>
                                       </Label>
                                              <TextField fx:id="txtName" promptText="Full Name" style="-fx-background-color: white; -fx-border-color: #cbd5e1; -fx-border-radius: 5; -fx-padding: 8;" />
                                          </VBox>
                  
                                                            <VBox spacing="2.0">
                                              <Label text="Contact Number" textFill="#64748b">
                                          <font>
                                             <Font name="System Bold" size="12.0" />
                                          </font>
                                       </Label>
                                              <TextField fx:id="txtContact" promptText="077-xxxxxxx" style="-fx-background-color: white; -fx-border-color: #cbd5e1; -fx-border-radius: 5; -fx-padding: 8;" />
                                          </VBox>
                  
                                                            <VBox spacing="2.0">
                                              <Label text="Email Address" textFill="#64748b">
                                          <font>
                                             <Font name="System Bold" size="12.0" />
                                          </font>
                                       </Label>
                                              <TextField fx:id="txtEmail" promptText="user@example.com" style="-fx-background-color: white; -fx-border-color: #cbd5e1; -fx-border-radius: 5; -fx-padding: 8;" />
                                          </VBox>
                  
                                                            <VBox spacing="2.0">
                                              <Label text="Address" textFill="#64748b">
                                          <font>
                                             <Font name="System Bold" size="12.0" />
                                          </font>
                                       </Label>
                                              <TextField fx:id="txtAddress" promptText="City, Street" style="-fx-background-color: white; -fx-border-color: #cbd5e1; -fx-border-radius: 5; -fx-padding: 8;" />
                                          </VBox>
                  
                                                            <VBox spacing="2.0">
                                              <Label text="Username" textFill="#64748b">
                                          <font>
                                             <Font name="System Bold" size="12.0" />
                                          </font>
                                       </Label>
                                              <TextField fx:id="txtUserName" promptText="Login Username" style="-fx-background-color: white; -fx-border-color: #cbd5e1; -fx-border-radius: 5; -fx-padding: 8;" />
                                          </VBox>
                  
                                                            <VBox spacing="2.0">
                                              <Label text="Password" textFill="#64748b">
                                          <font>
                                             <Font name="System Bold" size="12.0" />
                                          </font>
                                       </Label>
                                              <PasswordField fx:id="txtPassword" promptText="******" style="-fx-background-color: white; -fx-border-color: #cbd5e1; -fx-border-radius: 5; -fx-padding: 8;" />
                                          </VBox>
                  
                                                            <VBox spacing="2.0">
                                              <Label text="Role" textFill="#64748b">
                                          <font>
                                             <Font name="System Bold" size="12.0" />
                                          </font>
                                       </Label>
                                              <ComboBox fx:id="cmbRole" prefWidth="320.0" promptText="Select Role" style="-fx-background-color: white; -fx-border-color: #cbd5e1; -fx-border-radius: 5; -fx-padding: 8;" />
                                          </VBox>
                  
                                                            <VBox spacing="10.0">
                                              <VBox.margin>
                                                  <Insets top="15.0" />
                                              </VBox.margin>
                                              <children>
                                                  <Button fx:id="btnSave" maxWidth="1.7976931348623157E308" onAction="#handleSave" prefHeight="35.0" style="-fx-background-color: #3b82f6; -fx-cursor: hand;" text="Save User" textFill="WHITE">
                                                      <font>
                                                <Font name="System Bold" size="14.0" />
                                             </font>
                                                      <effect>
                                                <DropShadow color="#3b82f64d" offsetY="3.0" />
                                             </effect>
                                                  </Button>
                  
                                                                    <HBox spacing="10.0">
                                                      <children>
                                                          <Button fx:id="btnUpdate" maxWidth="1.7976931348623157E308" onAction="#handleUpdate" prefHeight="35.0" style="-fx-background-color: #f39c12; -fx-cursor: hand;" text="Update" textFill="WHITE" HBox.hgrow="ALWAYS">
                                                              <font>
                                                      <Font name="System Bold" size="14.0" />
                                                   </font>
                                                          </Button>
                                                          <Button fx:id="btnDelete" maxWidth="1.7976931348623157E308" onAction="#handleDelete" prefHeight="35.0" style="-fx-background-color: #ef4444; -fx-cursor: hand;" text="Delete" textFill="WHITE" HBox.hgrow="ALWAYS">
                                                              <font>
                                                      <Font name="System Bold" size="14.0" />
                                                   </font>
                                                          </Button>
                                                      </children>
                                                  </HBox>
                  
                                                                    <Button fx:id="btnReset" maxWidth="1.7976931348623157E308" onAction="#handleReset" style="-fx-background-color: transparent; -fx-text-fill: #64748b; -fx-cursor: hand; -fx-border-color: #cbd5e1; -fx-border-radius: 5;" text="Reset Form" />
                                              </children>
                                          </VBox>
                                      </children>
                                  </VBox>
                  
                                                    <VBox spacing="10.0" HBox.hgrow="ALWAYS">
                                      <children>
                                          <HBox alignment="CENTER_LEFT" prefHeight="35.0" spacing="10.0" style="-fx-background-color: white; -fx-background-radius: 8; -fx-padding: 10;">
                                              <children>
                                                  <TextField fx:id="txtSearch" prefHeight="27.0" promptText="ðŸ” Search by Name or Username..." style="-fx-background-color: transparent; -fx-border-color: transparent transparent #3b82f6 transparent;" HBox.hgrow="ALWAYS">
                                                      <font>
                                                <Font size="14.0" />
                                             </font>
                                                  </TextField>
                                                  <Button onAction="#handleSearch" style="-fx-background-color: #3b82f6; -fx-cursor: hand;" text="Search" textFill="WHITE">
                                                      <font>
                                                <Font name="System Bold" size="12.0" />
                                             </font>
                                                  </Button>
                                              </children>
                                              <effect>
                                                  <DropShadow color="#0000000d" offsetY="2.0" />
                                              </effect>
                                          </HBox>
                  
                                                            <TableView fx:id="tblUser" prefHeight="538.0" prefWidth="590.0" style="-fx-background-color: white; -fx-background-radius: 8; -fx-border-color: #e2e8f0; -fx-border-radius: 8;" stylesheets="@../css/TableStyle.css" VBox.vgrow="ALWAYS">
                                              <columns>
                                                  <TableColumn fx:id="colId" prefWidth="50.0" text="ID" />
                                                  <TableColumn fx:id="colName" prefWidth="150.0" text="Name" />
                                                  <TableColumn fx:id="colContact" prefWidth="100.0" text="Contact" />
                                                  <TableColumn fx:id="colEmail" prefWidth="150.0" text="Email" />
                                                  <TableColumn fx:id="colUserName" prefWidth="100.0" text="Username" />
                                                  <TableColumn fx:id="colRole" prefWidth="80.0" text="Role" />
                                                  <TableColumn fx:id="colAddress" prefWidth="120.0" text="Address" />
                                              </columns>
                                              <columnResizePolicy>
                                                  <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                                              </columnResizePolicy>
                                          </TableView>
                                      </children>
                                  </VBox>
                              </children>
                          </HBox>
                     </children>
                  </VBox>
               </content>
            </Tab>
          <Tab text="Untitled Tab 2" />
        </tabs>
      </TabPane>
   </center>
</BorderPane>
